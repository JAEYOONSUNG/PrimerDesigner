% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_gRNA_list_generator.R
\name{run_gRNA_list_generator}
\alias{run_gRNA_list_generator}
\title{Run Complete gRNA Library Generation Workflow}
\usage{
run_gRNA_list_generator(
  genbank_accession,
  target_sequence = NULL,
  genbank_table = NULL,
  nuclease = "GeoCas9",
  bowtie_index = NULL,
  genome = NULL,
  output_file = "gRNA_library.xlsx",
  dir = base::getwd(),
  position_range = c(10, 90),
  tm_range = c(50, 70),
  strand = "both",
  aligner = "bowtie",
  name_prefix = NULL,
  methylation_patterns = NULL
)
}
\arguments{
\item{genbank_accession}{A character string specifying the GenBank accession number (e.g., "GCF_030376745.1").}

\item{target_sequence}{A character string or vector specifying the target(s): "all" to generate gRNA library for all genes, a single locus tag (e.g., "QT234_RS00005"), a vector of locus tags, or a nucleotide sequence (default: NULL).}

\item{genbank_table}{A data frame containing GenBank table data with columns including locus_tag and nt_seq (default: NULL, auto-retrieved if not provided).}

\item{nuclease}{A character string specifying the nuclease to use ("GeoCas9", "FnCas12a", or "FisCasI_B"; default: "GeoCas9").}

\item{bowtie_index}{A character string specifying the path to the Bowtie index (default: NULL, auto-generated).}

\item{genome}{A BSgenome object specifying the reference genome (default: NULL, auto-loaded).}

\item{output_file}{A character string specifying the output Excel file name (default: "gRNA_library.xlsx").}

\item{dir}{A character string specifying the working directory (default: current working directory).}

\item{position_range}{A numeric vector of length 2 specifying the position range (as percentage) for gRNA filtering (default: c(10, 90)).}

\item{tm_range}{A numeric vector of length 2 specifying the Tm range for gRNA filtering (default: c(50, 70)).}

\item{strand}{A character string specifying the strand to filter ("both", "5", or "3"; default: "both").}

\item{aligner}{A character string specifying the aligner to use ("bowtie", "bwa", or "biostrings"; default: "bowtie").}

\item{name_prefix}{A character string to prepend to gRNA names (default: NULL, auto-detected from nuclease). Examples: "Geo", "Sp", "ProjectX".}

\item{methylation_patterns}{Character vector of methylation recognition sequences
using IUPAC ambiguity codes (default: NULL = no methylation filtering).
Examples: \code{c("GCCAT", "CCANNNNNTTG", "GATC")}.
When provided, gRNAs whose spacer + PAM region overlaps with any of these
methylation motifs (on either strand) will be removed from the library.
See \code{\link{filter_methylation_sites}} for details.}
}
\value{
A data frame containing the final gRNA library with gRNA_name, gRNA_rank, composite_score, and merged GenBank table data.
}
\description{
Executes the complete workflow for generating a genome-wide gRNA library.
Checks for and downloads the GenBank .fna and .gbff files (if not present), builds a BSgenome package,
creates a Bowtie index using Rbowtie, generates a gRNA list based on the target sequence,
retrieves a GenBank table (if not provided), builds a gRNA library, and saves the results to an Excel file.
The target sequence can be "all", a single locus tag (e.g., "XXXX_RSXXXXX"), a vector of locus tags, or a nucleotide sequence,
and the function automatically routes to the appropriate processing function.
}
\examples{
\dontrun{
# Generate gRNA library for a single DNA sequence
accession <- "GCF_030376745.1"
target_seq <- "ttggcattgacaggtacagaccgcgtcaaacgcggcatggcggaaatgcaaaaaggcggcgtcattatggacgtcgtcaatgcagagcaagcgaagattgctgaggcggcaggggctgtcgcagtcatggcgctcgagcgtgtcccggcagacattcgcgccgctggcggtgtcgcgcgcatggctgatccgacgatcattgaagaagtgatgaacgccgtatcaatcccagtcatggcgaaagtgcgcatcgggcattatgtggaagcgcgtgttttagaggcgctcggcvtcgactatattgacgaaagtgaagtattgacgccggctgatgaagagttccatattgacaaacggcagtttacggtcccatttgtatgcggttgccgcgacttaggagaggccgcccgccgcattgctgaaggggcatcgatgttgcggacaaaaggggagccagggacaggaaacatcgtcgaggccgttcgccatatgcgcaaagtcaacgcgcaaatccgcaaagttgtcagcatgagcgaagacgaacttgtcgccgaggcgaaacagcttggggctccggttgaagtgctgcgtgaaatcaaacggcttggccgcctcccggtcgtcaacttcgccgccggcggtgtcgcgacaccagctgacgccgcgctcatgatgcacttaggcgccgacggtgtctfcgtcggttcgggcatttttaaatcggaaaatccggaaaaatacgctcgtgcgatcgttgaagcgacgactcattatgaagactatgagctgatcgcccatctatcgaaagggctgggcggcgcaatgcgcggcatcgatvtcgcgacactgctgccggagcatcggatgcaagaacgaggctggtaa"
gRNA_lib <- run_gRNA_list_generator(
  genbank_accession = accession,
  target_sequence = target_seq,
  genbank_table = NULL,
  bowtie_index = NULL,
  nuclease = "GeoCas9",
  position_range = c(20, 80),
  tm_range = c(55, 65),
  output_file = "gRNA_library.xlsx"
)

# Generate gRNA library for all genes
gRNA_lib <- run_gRNA_list_generator(
  genbank_accession = accession,
  target_sequence = "all",
  genbank_table = NULL,
  bowtie_index = NULL,
  nuclease = "GeoCas9",
  output_file = "gRNA_library.xlsx"
)

# Generate gRNA library for a specific locus tag
gRNA_lib <- run_gRNA_list_generator(
  genbank_accession = accession,
  target_sequence = "QT234_RS00005",
  genbank_table = NULL,
  bowtie_index = NULL,
  nuclease = "GeoCas9",
  output_file = "gRNA_library.xlsx"
)
print(gRNA_lib)
}
}
